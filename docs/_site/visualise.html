<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SpinDec2: Visualise</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.init()
  </script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script> 
<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SpinDec2
   </div>
   <div id="projectbrief">PX915 group A software development project for HetSys in modelling spinodal decomposition</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
<div id="nav-tree">
    <div id="nav-tree-contents">
    <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('visualise.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title"></div></div>
  <!-- start footer part -->
    
</div><!--header-->


  <h1 id="vis">Visualise</h1>

  <p>In SpinDec2, a various range of plotting routines are given in the plotter.py file. Multiple plots and animations can be made and are stored in the \(Vis\_CH\) class. 
    There are numerous functions within the class are described below:</p>


    <p>Initialisation function for the class. Requires the name of the output netcdf file (default name is \(CH\_output.nc\) in SpinDec2), as well as the time average
       period for plotting the free energy (default is \(av\_period\) = 10).</p>
  <body>
    <pre><code class="python">
      def __init__(self,filename,av_period, save_plot=True):
    </code></pre>
  </body>
 
  <p>The Read and setup function takes in the NetCDF, reads it, and then setups up the system by adding the full-time output concentration field to the class and the total free energy time series. These can be accessed by doing \(class\_name.c\) and  \(class\_name.F\_tot\) respectively. All other metadata, such as grid size, timestep, atomic mobilities etc., are also stored in the class and are printed to the terminal if verbose = True (default). 
    As large amounts of time iterations are typically performed, we also reduce the amount of concentration grid frames we show in the animations by taking roughly 300 evenly spaced frames (300 is the default) to speed up the animation. These 300 frames are stored as \(self.c\_plot\) for concentration and \(self.F\_anim\) for the total free energy. </p>
  <body>
    <pre><code class="python">
      def read_and_setup(self.filename,verbose=True, save_plot=True):
    </code></pre>
  </body>

  <p>The dual animation function plots a dual animation of the concentration field and free energy side by side. This may interest the user to observe when equilibrium is achieved in the system (i.e. when phase separation has occurred).</p>
  <body>
    <pre><code class="python">
      def dual_animation(self, save_plot=True):
    </code></pre>
  </body>

  <p>ree energy animation over time if the user doesn't want the animated grid.</p>
  <body>
    <pre><code class="python">
      def F_animation(self, save_plot=True):
    </code></pre>
  </body>

  <p>Concentration grid animation over time for if the user doesn't want the animated free energy curve.</p>
  <body>
    <pre><code class="python">
      def grid_animation(self, save_plot=True):
    </code></pre>
  </body>

  <p>Snapshot of the concentration grid at a certain time. The snapshot argument controls this, an integer mapping to the time iteration you want to view, i.e. plots \(self.c[snapshot]\). The default snapshot value is set to -1 to display the final result.</p>

  <body>
    <pre><code class="python">
      def grid_snapshot(self, snapshot = -1, save_plot=True):
    </code></pre>
  </body>

  <p>Free energy plot (not animated) overall time if the user doesn't want the free energy animated.</p>
  <body>
    <pre><code class="python">
      def F_plot(self, save_plot=True):
    </code></pre>
  </body>

  <p>Trajectory of the average bulk free energy over time in 16 subsections of the grid. This is to observe which areas of the grid fall into which minima of the bulk free energy polynomial.
    This plotting tool can only be used for square grids of size (64, 64); (128, 128) and (256, 256).
  </p>
  <body>
    <pre><code class="python">
      def bulk_energy_traj(self, save_plot=True):
    </code></pre>
  </body>

  <p>In all the plotting functions, the default option is to save all the plots, where pictures are saved as PNG files and animations are saved as an mp4 file using the FFMpeg writer, which can be installed from the terminal by typing "sudo apt install ffmpeg". If the user wants to observe the plot without saving, then set the $save\_plot$ argument to false. </p>

  <p>All that is left to do is to call the class in the python file (which is defaulted as \(res_CH\)), then call the plotting functions you want to visualise, an example is shown below:</p>
  <body>
    <pre><code class="python">
      # Create a class name
res_CH = Vis_CH(file = 'CH_output.nc', av_period=10)

# Must call the read and set up function before the plotters
res_CH.read_and_setup(verbose=True)

# Then add any of the plots you want to save and create
res_CH.F_animation(save_plot=True)

res_CH.grid_animation(save_plot=True)

res_CH.grid_snapshot(snapshot=-1, save_plot=True)

res_CH.F_plot(save_plot=True)

res_CH.bulk_energy_traj(save_plot=True)

res_CH.dual_animation(save_plot=True)
    </code></pre>
  </body>

  

  <div class="contents">
</div><!-- contents -->
</div><!-- doc-content -->
<p>Authors: Anas Siddiqui, Ben Gosling, Dyaln Morgan, Geraldine Anis, Matyas Parrag</p>
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
