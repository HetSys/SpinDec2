<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SpinDec2: User Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.init()
  </script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script> 
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SpinDec2
   </div>
   <div id="projectbrief">Software Modelling Spinodal Decomposition</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
<div id="nav-tree">
    <div id="nav-tree-contents">
    <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('user.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">User Documentation</div></div>
  <!-- start footer part -->
    
</div><!--header-->

<h2 id="getting-started">Getting Started</h2>
<h3 id="download">Download</h3>
<p>To get the source code, the repository can be cloned to your chosen directory by typing the following command into a terminal (making sure you are in the correct directory):
<code>$ git clone https://github.com/HetSys/SpinDec2</code></p>
<h3 id="installation">Installation</h3>
<p>An installation script is provided with the repository. This can be used with several flags. To view the flags, run <code>./install.sh -h</code>, <code>./install.sh --help</code> or just <code>./install.sh</code> when inside the repository. A help screen will be displayed as shown below:</p>
     
    <pre><samp>
       %%%%%%\          %%\        %%%%%%\                    %%%%%%\
      %%  __%%\         \__|       %%   %%\                        %%\
      %% /  \__|%%%%%%\ %%\%%%%%%\ %%    %%\ %%%%%%\  %%%%%%%\     %% |
      \%%%%%%\ %%  __%%\%% %%  _%%\%%    %% %%    %%\%%  _____%%%%%%  |
       \____%%\%% /  %% %% %% / %% %%    %% %%%%%%%% %% /     %%  ___/
      %%\   %% %% |  %% %% %% | %% %%   %% /%%   ____%% |     %% |
      \%%%%%%  %%%%%%%  %% %% | %% %%%%%% / \%%%%%%%\\%%%%%%%\%%%%%%%\
       \______/%%  ____/\__\__| \__\_____/   \_______|\_______\_______|
               %% |
               %% |
               \__|
     
      Modelling Spinoidal Decomposition Using a Phase Field Approach
      _________________________________________________________________
     
     usage: spindec [-h]
                    [-c ARGS]
                    [-C ARGS]
                    [-t ARGS]
                    [-T]
     
     options:
       -h, --help              show this help message and exit
       -c, --compile ARGS      compile the code with optional debug or profile option
                               optional arguments: [ none | d/debug ] (default=none)
     
       -C, --clean ARGS        remove compiled binaries from repository
                               optional arguments: [ none | c/confirm ] (default=none)
     
       -t, --test ARGS         run automated unit tests
                               required arguments: [ c/compile | r/run | b/both ]
     
       -T, --test-clean        clean test binaries
     
    </samp></pre>
       
    <p>The code can be compiled with the installation script as follows:</p>
    <p><code>$ ./install.sh -c</code> or <code>$ ./install.sh --compile</code></p>
    <p>If the <code>$PATH</code> to the <code>spindec</code> binary isn&#39;t already in <code>~/.bashrc</code> , a prompt will appear asking if the user wishes to add the <code>/bin</code> location to <code>$PATH</code> . The shell will then need to be reloaded using <code>source ~/.bashrc</code> for <code>spindec</code> to appear as executable. This is the recommended method in which to use the binary, and the rest of the tutorial will assume this step has been taken.</p>
    <h3 id="using-the-clean-flag-to-remove-compiled-binaries">Using the clean flag to remove compiled binaries</h3>
    <p>To recompile the code, or just to remove binaries from a previous compilation, the clean flag can be used:</p>
    <p><code>$ ./install.sh -C</code> or <code>$ ./install.sh --clean</code></p>
    <p>To ask for confirmation before removing, the <code>c/confirm</code> argument can be specified:</p>
    <p><code>$ ./install.sh -Cc</code> or <code>$ ./install.sh --compile=confirm</code></p>
    <h3 id="running-the-code">Running the code</h3>
    <p>After compilation of the code, the binaries will be stored in the sub-directory <code>/bin</code> from the repository home. To execute the code, it is highly recommended to use the approach of creating a directory per calculation. This directory should contain an input file called <code>input.txt</code> of which the syntax is discussed further <a href="input.html">here</a>. Firstly the desired number of OpenMP threads needs to be specified. Then the computation can be run in the directory where the input file is located:</p>
    <p><code>$ export OMP_NUM_THREADS=n</code></p> 
    <p><code>$ mpirun -np n spindec</code></p>
    <p>where <code>n</code> is the number of processors to run with. If it is desired to only run with a single MPI thread, it is possible to call <code>spindec</code> simply like so (after specifiying OpenMP threads):</p>
    <p><code>$ spindec</code></p>
    <p>This uses the parameters provided in the input file to run the simulation and evolve the concentration grid over a the number of time steps requested.</p>
    <p>After the computation has finished running, the <code>vis_spindec.py</code> script can be used to generate graphs and animations from the output of the computation. This should also have been added to <code>$PATH</code> at the same time as <code>spindec</code>.</p>
    <p><code>$ vis_spin.py</code></p>

    <p>Additional arguments are required before running the plotter which control whether you save or view the plots, as well as optional arguments that set the frame speed of the saved animation 
      and the time iteration of the \(c\) grid that will be saved. Please read <a href="visualise.html">here</a> for how to use the visualisation script.
    </p>
    <h3 id="testing">Testing</h3>
    <h4 id="running">Running</h4>
    <p>Unit tests can be automatically run from the install script. To use this feature, specify the argument with one of several mandatory arugments</p>
    <ul>
    <li><code>$ ./install.sh -tc</code> or <code>$ ./install.sh --test=compile</code> compile the tests</li>
    <li><code>$ ./install.sh -tr</code> or <code>$ ./install.sh --test=run</code> run the tests</li>
    <li><code>$ ./install.sh -tb</code> or <code>$ ./install.sh --test=both</code> both compile and run the tests</li>
    </ul>
    <h4 id="cleaning">Cleaning</h4>
    <p>To clean all the test binaries:</p>
    <p><code>$ ./install.sh -T</code> or <code>$ ./install.sh --test-clean</code></p>
    

  <h2 id="examples">Examples</h2>
  <p>Below are some simple examples of how to use SpinDec2 for the various cases of methods and Mobilities.</p>


  <ul>
    <li>Euler - constant M - Mobility is taken to be constant everywhere at all times, <a href="euler_example_1.html">Serial Example 1</a>.</li>
    <li>Euler - M = M(c) - Mobility is dependent on the order paramter c over time, <a href="euler_example_2.html">Serial Example 2</a>.</li>
    <li>Euler - M = M(c,T) The atomic mobilities are defined in terms of local tempeartures, <a href="euler_example_3.html">Serial Example 3</a>.</li>
    <li>Validation Example,  <a href="test_example.html">50/50 Split Example </a>.</li>
    <li> Running in parallel using MPI,  <a href="parra_example.html">Parallel Example </a>.</li>
    <li>Pseudo-Spectral Method,  <a href="PS_example.html">Pseudo-Spectral Example </a>.</li>
    <li>How to use check-pointing,  <a href="PS_example.html">Check-Pointing Example </a>.</li>
  </ul> 

  <div class="contents">
</div><!-- contents -->
</div><!-- doc-content -->
<p>Authors: Anas Siddiqui, Ben Gosling, Dyaln Morgan, Geraldine Anis, Matyas Parrag</p>
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
